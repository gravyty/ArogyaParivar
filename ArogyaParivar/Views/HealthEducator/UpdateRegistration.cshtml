
@model  ArogyaParivar.Models.Patient


@{
    ViewBag.Title = "UpdateRegistration";
    Layout = "~/Views/Shared/_ArogyaParivarLayout.cshtml";
}


@using (Html.BeginForm())
{

    @Html.ValidationSummary(true)
   
  
    <section class="content-header">
        <h1>Update Patient Registration</h1>
        </section>
    <section class="content">
            <div class="box box-info">
                <div class="box-header">
                    <h3 class="box-title"><i class="fa fa-user"></i>Patient info</h3>
                    <div class="box-tools pull-right">
                        <div class="time-label bg-red" style="padding: 5px 10px">Patient ID :  @ViewBag.Arogyaid</div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row" style="padding: 10px">
                        <div class="col-lg-12">
                            <section class="col-lg-8 col-sm-8 ">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Patient Name</label>
                                            <div class="col-sm-7" >
                                                @Html.TextBoxFor(model => model.PatientName, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model =>model.PatientName)
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Surname</label>
                                            <div class="col-sm-7">
                                                @Html.TextBoxFor(model => model.Surname, null, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.Surname)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                  <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Age</label>
                                            <div class="col-sm-7">

                                                @Html.TextBoxFor(model => model.Age, null, new { @class = "form-control",id = "Age" })
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Select</label>
                                            <div class="col-sm-7">
                                                 @Html.DropDownList("AgeType", (IEnumerable<SelectListItem>)ViewBag.AgeType, new { @class = "form-control" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Gender</label>
                                            <div class="col-sm-7">
                                                @Html.DropDownList("Gender", (IEnumerable<SelectListItem>)ViewBag.Gender, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.Gender)

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Aadhaar No.</label>
                                            <div class="col-sm-7">
                                                @Html.TextBoxFor(model => model.AadharID, null, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.AadharID)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Address</label>
                                            <div class="col-sm-7">
                                                @Html.TextBoxFor(model => model.Address, null, new { @class = "form-control" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Sate</label>
                                            <div class="col-sm-7">
                                                 @Html.DropDownListFor(model => model.Sate, (IEnumerable<SelectListItem>)ViewBag.State, new { @class = "form-control" })
                                               

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">District</label>
                                            <div class="col-sm-7">
                                                   @Html.DropDownList("District", (IEnumerable<SelectListItem>)ViewBag.District, new { @class = "form-control" })
                                                

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Town</label>
                                            <div class="col-sm-7">
                                               @Html.DropDownList("Town", (IEnumerable<SelectListItem>)ViewBag.Town, new { @class = "form-control" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Village</label>
                                            <div class="col-sm-7">
                                               
                                                @Html.DropDownList("Village", (IEnumerable<SelectListItem>)ViewBag.Village, new { @class = "form-control" })
@*                                              @Html.DropDownListFor(model => item.StateName, new SelectList(item.StateName, "Value", "Text","Uttar Pradesh"), "Select a State", new { id = "State", @class = "form-control" })*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Contact Number</label>
                                            <div class="col-sm-7">
                                                @Html.TextBoxFor(model => model.ContactNo, null, new { @class = "form-control" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                               <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Referrer By</label>
                                            <div class="col-sm-7">
                                                 @Html.DropDownList("RefBy", (IEnumerable<SelectListItem>)ViewBag.RefBy, new { @class = "form-control" })
 
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="col-sm-5 control-label-left">Referrer Name</label>
                                            <div class="col-sm-7">
                                               @Html.TextBoxFor(model => model.RefName, null, new { @class = "form-control" })
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                  <div class="row">

                                 </div>
                                 <div class="row">

                                 </div>
                                   <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            
                                              @Html.CheckBox("Consent",new { @class = "col-sm-5 control-label-left" })
                                            <div class="col-sm-7">
                                                    <label class="col-sm-5 control-label-left">Consent</label>
                                              
                                                
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </section>
                            <section class="col-lg-4 col-sm-4">
                                <div style="margin: 0 auto; width: 980px; text-align: center">
                                @*<div style="float: left; border: 4px solid #ccc; padding: 5px">
                                 <div id="Camera">
                                </div>
                                <br>
                                <input type="button"  value="Capture" onclick="Pic();" />
                                </div>*@
                                <div style="float: left; margin-left: 20px; border: 4px solid #ccc; padding: 5px">
                                <img id="show" style="width: 320px; height: 240px;" src="~/WebImages/Webcam.png" />
                               
                                </div>
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="row" style="padding: 10px">
                        <div class="col-lg-12 text-right">
                            <input id="submit" type="submit" name="command" value="Genarate Token/Update" class="btn btn-warning" />
                            <input id="Button3" type="submit" value="Print ID card" class="btn btn-warning" />
                            <input id="Button2" type="submit" value="Reset" class="btn btn-warning" />
                        </div>
                    </div>
                </div>
                <!-- /.box-body -->

            </div>
            <!-- /.box -->
        </section>
       
 


}

<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>

<script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>

<script type="text/javascript">

  $(document).ready(function () {

        //Dropdownlist Selectedchange event

       
            $("#State").empty();

            $.ajax({

                type: 'POST',

                url: '@Url.Action("GetState")',

                dataType: 'json',

                data: { id: $("#State").val() },

                success: function (citys) {

                    // states contains the JSON formatted list

                    // of states passed from the controller

                    $.each(citys, function (i, city) {

                        $("#State").append('<option value="'

                        + city.Value + '">'

                        + city.Text + '</option>');

                    });

                },

                error: function (ex) {

                    alert('Failed to retrieve states.' + ex);

                }

            });

            return false;

       

     });

</script>